# Rime schema settings
# encoding: utf-8

schema:
  schema_id: sg
  name: "é…¥æ¢¨å°é¹¤"
  version: "8.1"
  author:
    - æ–¹æ¡ˆè®¾è®¡ï¼šä½•æµ·å³° <flypy@qq.com>ï¼Œé…¥æ¢¨<1668351939@qq.com>
  description: |
    ç è¡¨æºè‡ªå°é¹¤åŒæ‹¼é£æ‰¬ç‰ˆç³»ç»Ÿä¸»ç è¡¨æœ‰ä¸ªäººé£æ ¼çš„ç è¡¨
  dependencies:
    - sldzstroke
    - pniyin_simp
    - flypydz

punctuator:
  full_shape:
    ' ' : { commit: 'ã€€' }
    ',' : { commit: ï¼Œ }
    '.' : { commit: ã€‚ }
    '<' : [ ã€Š, ã€ˆ, Â«, â€¹ ]
    '>' : [ ã€‹, ã€‰, Â», â€º ]
    '/' : [ ï¼, Ã· ]
    '?' : { commit: ï¼Ÿ }
    ';' : { commit: ï¼› }
    ':' : { commit: ï¼š }
    '''' : { pair: [ 'â€˜', 'â€™' ] }
    '"' : { pair: [ 'â€œ', 'â€' ] }
    '\' : [ ã€, ï¼¼ ]
    '|' : [ Â·, ï½œ, 'Â§', 'Â¦' ]
    '`' : ï½€

    '!' : { commit: ï¼ }
    '@' : [ ï¼ , â˜¯ ]
    '#' : [ ï¼ƒ, âŒ˜ ]
    '%' : [ ï¼…, 'Â°', 'â„ƒ' ]
    '$' : [ ï¿¥, '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤' ]
    '^' : { commit: â€¦â€¦ }
    '&' : ï¼†
    '*' : [ ï¼Š, Â·, ãƒ», Ã—, â€», â‚ ]
    '(' : ï¼ˆ
    ')' : ï¼‰
    '-' : ï¼
    '_' : â€”â€”
    '+' : ï¼‹
    '=' : ï¼
    '[' : [ ã€Œ, ã€, ã€”, ï¼» ]
    ']' : [ ã€, ã€‘, ã€•, ï¼½ ]
    '{' : [ ã€, ã€–, ï½› ]
    '}' : [ ã€, ã€—, ï½ ]
  half_shape:
    ',' : { commit: ï¼Œ }
    '.' : { commit: ã€‚ }
    '<' : [ ã€Š, ã€ˆ, Â«, â€¹ ]
    '>' : [ ã€‹, ã€‰, Â», â€º ]
    '/' : { commit: ã€ }
    '?' : { commit: ï¼Ÿ }
    ';' : { commit: ï¼› }
    ':' : { commit: ï¼š }
    '''' : { pair: [ 'â€˜', 'â€™' ] }
    '"' : { pair: [ 'â€œ', 'â€' ] }
    '\' : [ ã€, '\', ï¼¼ ]
    '|' : [ Â·, '|', ï½œ, 'Â§', 'Â¦' ]
    'ÃŸ': {commit: 'ÃŸ'}
    '`' : '`'
#    '~' : [ '~', ï½ ]
    '!' : { commit: ï¼ }
    '@' : '@'
    '#' : '#'
    '%' : { commit: '%' }
    '$' : [ ï¿¥, '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤' ]
    '^' : { commit: â€¦â€¦ }
    '&' : '&'
    '*' : { commit: '*' }
    '(' : ï¼ˆ
    ')' : ï¼‰
    '-' : '-'
    '_' : â€”â€”
    '+' : '+'
    '=' : '='
    '[' : [ ã€Œ, ã€, ã€”, ï¼» ]
    ']' : [ ã€, ã€‘, ã€•,  ï¼½ ]
    '{' : [ ã€, ã€–, ï½› ]
    '}' : [ ã€, ã€—, ï½ ]

switches: # å¯åœ¨çŠ¶æ€æ ä¸Šæ˜¾ç¤ºçš„å†…å®¹ï¼Œå»æ‰ä¸‹é¢çš„"#"å·å¯å¼€å¯
  - options: [ _keyboard_menu, _keyboard_menu]
    states: [ "â–", "â–"]
  - name: ascii_mode
    states: [ CN, DE ]
    reset: ï¼
  - options: [ _keyboard_default, _keyboard_default]
    states: [ " 								                    	          ", " 						                    			          "]
 # - options: [ _keyboard_default, _keyboard_defaultVJ]
  #  states: [ " 								                    	          ", " 						                    			          "]
  - options: [ _key_Hide, _key_Hide]
    states: [ â–½, æ¢¨]
  - options: [ _key_LLQ, _key_LLQ]
    #states: [ ğŸ”, ğŸ”] 
  - options: [ _key_VOICE_ASSIST, _key_VOICE_ASSIST]
   # states: [ ğŸ¤, ğŸ¤] 
  - name: zh_simp
   # states: [ â’¿, â’» ]
   # reset: 0
  - name: _hide_key_hint
    #states: [ â‰‘, â‰Ÿ ]
  - name: _hide_candidate
   # states: [ â˜, â˜’ ]
    reset: 0
  - name: _hide_comment
    #states: [ æç¤º, æ— ]
  - name: buchongjianma_cn   #è¡¥å……ç®€ç å¼€å…³
   # states: [ "*", "*+ç®€è¡¥"]    #æ˜¾ç¤ºåœ¨çŠ¶æ€æ çš„å›¾æ ‡
    reset: 1                  #é»˜è®¤å¼€å¯ÃŸ
  - name: pinyin_cn
    reset: 0

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - table_translator@custom_phrase
    - table_translator
    - reverse_lookup_translator
    - history_translator@history #å†å²è¾“å…¥ç¼–è¯‘å™¨
  filters:
    - simplifier
    - simplifier@zh_simp
    - simplifier@buchongjianma_cn
    - simplifier@pinyin_cn
    - uniquifier

speller:
  alphabet: ';zyxwvutsrqponmlkjihgfedcba'
  #initials: 'abcdefghijklmnopqrstuvwxyz;Ãœ'
  finals: '~' #è§ç”¨æˆ·è¯åº“åº•éƒ¨
  #delimiter: " '"
  max_code_length: 4
  auto_select: true   #é¡¶å­—ä¸Šå±
  auto_select_pattern:  ^;.$|^\w{4}$ #-^;.$#
  auto_clear: max_length #manual|auto|max_length ç©ºç æŒ‰ä¸‹ä¸€é”®ç¡®è®¤æ¸…å±|ç©ºç è‡ªåŠ¨æ¸…|è¾¾åˆ°æœ€é•¿ç æ—¶åç é¡¶ä¸Šæ¸…å±

translator:
  dictionary: sg
  enable_charset_filter: false
  enable_sentence: false
  enable_completion: false # ç¼–ç æç¤ºå¼€å…³
  enable_user_dict: false
  disable_user_dict_for_patterns:
    - "^z.*$"
 
zh_simp:
  opencc_config: s2twp.json
  option_name: zh_simp
  
  
# è¡¥å……ç®€ç æ»¤é•œé…ç½®
buchongjianma_cn:
  opencc_config: buchongjianma.json   #è¡¥å……ç®€ç è¯å…¸é…ç½®æ–‡ä»¶
  option_name: buchongjianma_cn    #ä¸çŠ¶æ€æ å¼€å…³çš„åç§°ä¸€è‡´
  tips: all    #noneæ— æ³¨é‡Š,charå•å­—æ³¨é‡Šï¼Œallå…¨éƒ¨æ³¨é‡Š
  initial_quality: -10 
  
pinyin_cn:
  opencc_config: pinyin.json   #è¡¥å……ç®€ç è¯å…¸é…ç½®æ–‡ä»¶
  option_name: pinyin_cn    #ä¸çŠ¶æ€æ å¼€å…³çš„åç§°ä¸€è‡´
  tips: all    #noneæ— æ³¨é‡Š,charå•å­—æ³¨é‡Šï¼Œallå…¨éƒ¨æ³¨é‡Š
#  show_in_comment: true #æ»¤é•œå˜æˆæç¤º
  excluded_types: [ reverse_lookup ]
  comment_format:
    - xform/^/æ³¨éŸ³:{/
    - xform/$/}/
    - xform/'//
  tags:
    - abc 
  #ä¸‰ç ä¸å››ç é‡å¤ä¼šå¯¼è‡´openccçš„txté‡Œå·¦å³ç›¸åŒï¼Œä¼šè¢«uniquifierè¿‡æ»¤æ‰ï¼ˆå¦‚æœå…³äº†å®ƒï¼Œåˆä¼šå¯¼è‡´é‡ç å¤ªå¤šï¼‰
  #è§£å†³çš„åŠæ³•æ˜¯å½“ä¸‰ç ä¸å››ç é‡å¤æ—¶ï¼ŒæŠŠäºŒç®€æç¤ºè¯ï¼ˆå°±æ˜¯é‚£ä¸ªä¸‰ç è¯ï¼‰ï¼Œå¼„æˆä¸åŒä½†ç›¸ä¼¼å³å¯ï¼Œå…·ä½“çœ‹openccé‡Œçš„ä¾‹
  
  #å†å²è¾“å…¥
history:
  input: ;f #oi
  size: 1   #å†å²è¾“å…¥ä¸ªæ•°ï¼ˆæ­¤å¤„ä¸ºä¸€ç™¾ä¸ªï¼‰
  initial_quality: -1  #æƒé‡
  
custom_phrase:
  dictionary: ""
  user_dict: flypy_user
  db_class: stabledb
  #spelling_hints: 10  # ï½å­—ä»¥ç®€å•å…§å€™é¸æ¨™è¨»å®Œæ•´å¸¶èª¿æ‹¼éŸ³
  enable_sentence: false
  enable_completion: false

#åŸæ¥çš„åæŸ¥æ–¹æ¡ˆåœ¨æ­¤ï¼
#reverse_lookup:
#  dictionary: flypydz
#  comment_format:
#    - xform/^/ã€”/
#    - xform/$/ã€•/
#    - xform/ /, /

#æ–°åæŸ¥æ–¹æ¡ˆï¼ˆå¦‚æœ‰é—®é¢˜ï¼Œç›´æ¥åˆ é™¤è¿™æ®µå°±å¥½ï¼‰
reverse_lookup:
  dictionary: sldzstroke
  enable_completion: true
  prefix: "`"
  suffix: "'"
  tips: ã€”ç¬”ç”»ã€•
  preedit_format:
    - xlit/hspnz/ä¸€ä¸¨ä¸¿ä¸¶ä¹™/
  comment_format:
    - xform ([aeiou])(ng?|r)([1234]) $1$3$2
    - xform ([aeo])([iuo])([1234]) $1$3$2
    - xform a1 Ä
    - xform a2 Ã¡
    - xform a3 Ç
    - xform a4 Ã 
    - xform e1 Ä“
    - xform e2 Ã©
    - xform e3 Ä›
    - xform e4 Ã¨
    - xform o1 Å
    - xform o2 Ã³
    - xform o3 Ç’
    - xform o4 Ã²
    - xform i1 Ä«
    - xform i2 Ã­
    - xform i3 Ç
    - xform i4 Ã¬
    - xform u1 Å«
    - xform u2 Ãº
    - xform u3 Ç”
    - xform u4 Ã¹
    - xform v1 Ç–
    - xform v2 Ç˜
    - xform v3 Çš
    - xform v4 Çœ
    - xform/([nljqxy])v/$1Ã¼/
    - xform/eh[0-5]?/Ãª/
    - xform/([a-z]+)[0-5]/$1/

key_binder:
  import_preset: default #æ–¹æ¡ˆåˆ‡æ¢ç›¸å…³
  bindings:
    - {accept: bracketleft, send: Page_Up, when: has_menu} # [ä¸Šç¿»é¡µ
    - {accept: bracketright, send: Page_Down, when: has_menu} # ]ä¸‹ç¿»é¡µ
    - {accept: semicolon, send: 2, when: has_menu} #åˆ†å·æ¬¡é€‰
   # - {accept: Release+semicolon, send: semicolon, when: has_menu} #åˆ†å·é¡¶å±
    #- {accept: period, send: 2, when: has_menu} #å¥å·æ¬¡é€‰
    - {accept: dollar, send: 2, when: has_menu}
    - {accept: Release+dollar, send: period, when: has_menu}
    - {accept: Release+period, send: period, when: has_menu}
    - {accept: apostrophe, send: 3, when: has_menu}
    - {accept: Release+apostrophe, send: apostrophe, when: has_menu}
    
#~~    - {accept: comma, send: 2, when: has_menu} #é€—å·æ¬¡é€‰
#    - {accept: Release+comma, send: comma, when: has_menu}
    - {accept: "Tab", send: Escape, when: composing}
    - {accept: Caps_Lock, send: Escape, when: composing}
    - {accept: "Shift_R", send: Escape, when: composing}
#    - {accept: Release+semicolon, send: period, when: has_menu}#è¿™ä¸ªæ˜¯æ— ç æ—¶è‡ªåŠ¨ä»¥å¥å·é¡¶å±ï¼Œå¥½åƒã€‚
 #åˆ†å·ä½œæ¬¡é€‰æ”¾ä¸»é¢˜å¥å·å¤„ï¼Œæ— æ¬¡é€‰æ—¶å‡ºå¥å·çš„è®¾ç½®æ–¹æ³•
#ç„¶ååœ¨ä¸»é¢˜çš„å¥å·é”®å¤„åŠ ä¸Šcomposing: semicoloné‡æ–°éƒ¨ç½²å³å¯ã€‚    

   # - {accept: "Release+semicolon", send: period, when: has_menu}
   # - {accept: Release+comma, send: comma, when: has_menu}
    - {when: has_menu, accept: "Ãœ", toggle: buchongjianma_cn }   # åœ¨è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œåˆ‡æ¢è¡¥å……ç®€ç å¼€å…³çš„å¿«æ·é”®ï¼Œè¿™é‡Œç”¨ÃŸå·åˆ‡æ¢
    - {when: has_menu, accept: "Ã„", toggle: pinyin_cn }   # åœ¨è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œåˆ‡æ¢è¡¥å……ç®€ç å¼€å…³çš„å¿«æ·é”®ï¼Œè¿™é‡Œç”¨ÃŸå·åˆ‡æ¢

recognizer:
  import_preset: default
  patterns:
    uppercase: "[A-Z][-_+.'0-9A-Za-z]*$"
    # uppercase: "" #ä¸­æ–‡çŠ¶æ€å¤§å†™é”å®šç›´æ¥ä¸Šå±
    reverse_lookup: "[a-z`]*`+[a-z`]*"
    punct: ""

menu:
  page_size: 20 #å€™é€‰é¡¹æ•°
  
style:
  horizontal: false #ç«–æ’ä¸ºfalse